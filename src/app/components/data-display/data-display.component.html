<div class="toolbar" role="banner" id="nav">
    <img class="standardbanklogo" src="../../../assets/images/Standard_Bank_of_South_Africa_logo.png">
</div>
<br><br><br>


<div class="container h">
  <br>
  <div class="row">
    <div class="col-xs-3 col-md-3">
      <div class="filter">
        <form >
          <label> Filter by: &nbsp; &nbsp;</label>
          <select (change)="updateIDs($event)" >
            <option value="default">Select</option>
            <option *ngFor="let dropDown of dropDownOptions"><label>{{dropDown}}</label></option>
          </select>
        </form>
       </div>
    </div>

    <div class="col">
      <div class="container-fluid">

        <div class="searchBox" *ngIf="IDSelect === 'EID file'">
          <label class="labelEIID" id="lbl">Upload <strong>.csv/.txt &nbsp; &nbsp;</strong></label>
          <input type='file' (change)="getSvocDataByFileEID($event)">
        </div>
    
        <div class="searchBox" *ngIf="IDSelect === 'BPID file'">
          <label class="labelEIID" id="lbl">Upload <strong>.csv/.txt &nbsp; &nbsp;</strong></label>
          <input type='file' (change)="getSvocDataByFileBPID($event)">
        </div>
    
        <div class="searchBox" *ngIf="IDSelect === 'Business partner-ID'">
          <form [formGroup]="searchForm" (ngSubmit)="getDataByBusiness_partner_ID()">
            <label class="labelEIID"><strong>Business partner_ID  &nbsp; &nbsp;</strong> </label>
            <input formControlName="ID" class="inputBox" placeholder="">
            <button class="submitBtn" type="submit">Submit</button>
          </form>
        </div>
            
       
          <div class="searchBox" *ngIf="IDSelect === 'Enterprise-ID'">
            <form [formGroup]="searchForm" (ngSubmit)="getDataByEnterprise_ID()">
              <label class="labelEIID"><strong>Enterprise-ID  &nbsp; &nbsp;</strong> </label>
              <input formControlName="ID" class="inputBox" placeholder="">
              <button class="submitBtn" type="submit">Submit</button>
            </form>
          </div>
      </div>
    </div>

  </div><br>

  <div class="report" *ngIf="tableData.length > 0">
    <button class="bttn" (click)="downloadReport()">Download Report</button>
  </div>

  

  <p *ngIf="tableData.length > 0 || lastIdSearched.length && reload == true" class="searchedBY">Searched by <strong>"{{idType}}"</strong> : {{lastIdSearched}}</p>

  <body *ngIf="tableData.length > 0 || lastIdSearched.length && reload == true">
  
    <div class="table-responsive-lg" class="ht">
      <table #table id="example" class="table table-striped table-hover table-bordered table-sm">
        <thead>
          <tr class="sticky-top">
            <th scope="col" class="th-sm" (click)="sortDescData(tableData)">Enterprise-ID </th>
            <th scope="col">Super-EID</th>
            <th scope="col">BP-Number</th>
            <th scope="col">Preferred BP Indicator</th>
          </tr>
        </thead>
        <tbody style="font-size:12px;" *ngIf="tableData.length > 0">
          <tr *ngFor="let row of tableData let i = index">
            <td scope="row">{{row.enterpriseId}}</td>
            <td scope="row" *ngIf="idType === 'Enterprise_ID' && IDSelect==='Enterprise-ID'"><span *ngIf="i===0">{{row.superEid}}</span></td>
            <td scope="row" *ngIf="IDSelect!=='Enterprise-ID' || idType === 'Super-EID'" ><span>{{row.superEid}}</span></td>
            <td scope="row">{{row.systemIdNumber}}</td>
            <td scope="row">{{row.prefered_BP}}</td>
          </tr>
        </tbody>
        <tbody *ngIf="tableData.length == 0 && searchForm.value.ID?.length && reload == true">
          <tr class="noRecords">No record found</tr>
        </tbody>
      </table> 
    </div>
   
    <label>{{tableData.length}} Records Found</label>
  </body>
</div>
